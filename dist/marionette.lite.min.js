!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("backbone"),require("backbone.marionette"),require("underscore")):"function"==typeof define&&define.amd?define("marionette-lite",["backbone","backbone.marionette","underscore"],t):"object"==typeof exports?exports["marionette-lite"]=t(require("backbone"),require("backbone.marionette"),require("underscore")):e["marionette-lite"]=t(e.backbone,e["backbone.marionette"],e.underscore)}(this,function(e,t,r){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=t.View=t.Controller=t.Router=void 0;var n=r(1),o=r(5),i=r(6),u=r(7),l={Router:i.Router,Controller:n.Controller,View:u.View,Filter:o.Filter};t["default"]=l,t.Router=i.Router,t.Controller=n.Controller,t.View=u.View,t.Filter=o.Filter},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;var o=r(2),i=n(o),u=r(3),l=n(u),a=r(4),c=n(a),s=l["default"].Object.extend({initialize:function(e){this.layout=e.layout},go:function(e){i["default"].navigate(e,!0)},changeView:function(e){this.currentView&&c["default"].isFunction(this.currentView.close)&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(this.currentView.events),this.layout.showChildView("main",e)}});t["default"]=s,t.Controller=s},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=void 0;var o=r(3),i=n(o),u="before",l="after",a=i["default"].Object.extend({execution:u,name:!1,async:!1,handler:function(e,t,r){return r()}});a.Before=u,a.After=l,t["default"]=a,t.Filter=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var o=r(2),i=n(o),u=r(3),l=n(u),a=r(4),c=n(a),s=r(5),f=l["default"].AppRouter.extend({runFilters:function(e,t,r,n,o){var i=this._getController(),u=i.filtersMap(),l=u.filter(function(t){return t.execution===e}),a=[];l.map(function(e){var t=i.filters[e.name]||[],n=1===t.length&&"*"===t[0];(n||t.indexOf(r)!==-1&&c["default"].isFunction(e.handler))&&a.push(e)});for(var s=0;s<a.length-1;s++)a[s].handler.bind(r,a[s+1].handler);this.run(a,t,r,n,o)},run:function(e,t,r,n,o){var i=this;if(!e.length)return void o.call(t);var u=e[0],l=c["default"].tail(e),a=function(){return i.run(l,t,r,n,o)};u.async?u.handler.apply(t,[r,n,a]):u.handler.apply(t,[r,n])!==!1&&a()},route:function(e,t,r){var n=this;c["default"].isRegExp(e)||(e=this._routeToRegExp(e)),c["default"].isFunction(t)&&(r=t,t=""),r||(r=this[t]);var o=this;return i["default"].history.route(e,function(u){var l=o._extractParameters(e,u);n.runFilters(s.Filter.Before,o,u,l,function(){o.execute(r,l,t)!==!1&&(o.trigger.apply(o,["route: "+t].concat(l)),o.trigger("route",t,l),i["default"].history.trigger("route",o,t,l),n.runFilters(s.Filter.After,o,u,l,function(){}))})}),this}});t["default"]=f,t.Router=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var o=r(2),i=(n(o),r(3)),u=n(i),l=r(4),a=(n(l),u["default"].View.extend({close:function(){this.remove(),this.unbind(),this.onClose&&this.onClose()}}));t["default"]=a,t.View=a}])});